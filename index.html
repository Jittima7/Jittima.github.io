<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>เปรียบเทียบความเหมือนและความแตกต่างในการเขียนโปรแกรมแบบ OOP ด้วยภาษา Java, C++, Python</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f9f9f9;
            margin: 0;
            padding: 20px;
        }

        h1 {
            color: #333;
            font-size: 28px;
            text-align: center;
        }

        h2 {
            color: #444;
            font-size: 24px;
            border-bottom: 2px solid #ddd;
            padding-bottom: 10px;
        }

        p {
            font-size: 18px;
            line-height: 1.6;
            color: #555;
        }
        p1 {
            font-size: 16px;
            line-height: 1.6;
            color: #555;
        }	
      
        pre {
            background-color: #282c34;
            color: #abb2bf;
            border-radius: 8px;
            padding: 20px;
            font-size: 16px;
            line-height: 1.5;
            overflow-x: auto;
            box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
        }

        code {
            font-family: 'Courier New', Courier, monospace;
            display: block;
            white-space: pre-wrap;
        }

        /* สีสำหรับไฮไลต์โค้ด */
        .keyword {
            color: #c678dd;
        }

        .class-name {
            color: #e5c07b;
        }

        .string {
            color: #98c379;
        }

        .comment {
            color: #5c6370;
            font-style: italic;
        }
    </style>
</head>
<body>
    <h1>I. เขียนโปรแกรมในภาษา Java, C++, Python เปรียบเทียบผลรัน</h1>

    <h2>1. Java</h2>
    <p>ใน Java ไม่มี destructor เหมือน C++ แต่จะใช้ <code>finalize()</code> เป็นการจัดการที่ไม่เหมือนกันและไม่ได้เรียกอัตโนมัติ แต่จะใช้เพื่อการเปรียบเทียบ</p>
    
    <pre><code>
<span class="keyword">class</span> <span class="class-name">Animal</span> {
    <span class="keyword">public</span> Animal() {
        System.out.println(<span class="string">"create animal"</span>);
    }

    <span class="keyword">public</span> <span class="keyword">void</span> sound() {
        System.out.println(<span class="string">"animal makes a sound"</span>);
    }

    <span class="keyword">protected</span> <span class="keyword">void</span> finalize() <span class="keyword">throws</span> Throwable {
        System.out.println(<span class="string">"delete animal"</span>);
    }
}

<span class="keyword">class</span> <span class="class-name">Dog</span> <span class="keyword">extends</span> Animal {
    <span class="keyword">public</span> Dog() {
        System.out.println(<span class="string">"dog"</span>);
    }

    <span class="keyword">@Override</span>
    <span class="keyword">public</span> <span class="keyword">void</span> sound() {
        System.out.println(<span class="string">"dog barks"</span>);
    }

    <span class="keyword">protected</span> <span class="keyword">void</span> finalize() <span class="keyword">throws</span> Throwable {
        System.out.println(<span class="string">"delete dog"</span>);
    }
}

<span class="keyword">class</span> <span class="class-name">Cat</span> <span class="keyword">extends</span> Animal {
    <span class="keyword">public</span> Cat() {
        System.out.println(<span class="string">"cat"</span>);
    }

    <span class="keyword">@Override</span>
    <span class="keyword">public</span> <span class="keyword">void</span> sound() {
        System.out.println(<span class="string">"cat meows"</span>);
    }

    <span class="keyword">protected</span> <span
class="keyword">void</span> finalize() <span class="keyword">throws</span> Throwable {
        System.out.println(<span class="string">"delete cat"</span>);
    }
}

<span class="keyword">public class</span> <span class="class-name">Main</span> {
    <span class="keyword">public static void</span> main(String[] args) {
        Animal a = <span class="keyword">new</span> Animal();
        a.sound();
        
        Dog d = <span class="keyword">new</span> Dog();
        d.sound();
        
        Cat c = <span class="keyword">new</span> Cat();
        c.sound();
        
        a = <span class="keyword">null</span>;
        d = <span class="keyword">null</span>;
        c = <span class="keyword">null</span>;
        
        <span class="keyword">System</span>.gc(); 
        <span class="comment">// เรียก garbage collector เพื่อให้ finalize ทำงาน</span>
    }
}
    </code></pre>

      <h2>2. C++</h2>
    <p>ใน C++ เราสามารถใช้ destructor (~ClassName) เพื่อจัดการหน่วยความจำได้
<code>#include <iostream>using namespace std;</code></p>
  
      <pre><code>
#include &lt;iostream&gt;
<span class="keyword">using namespace</span> std;

<span class="keyword">class</span> <span class="class-name">Animal</span> {
public:
    Animal() {
        cout &lt;&lt; <span class="string">"create animal"</span> &lt;&lt; endl;
    }

    <span class="keyword">virtual</span> ~Animal() {
        cout &lt;&lt; <span class="string">"delete animal"</span> &lt;&lt; endl;
    }

    <span class="keyword">virtual</span> <span class="keyword">void</span> sound() {
        cout &lt;&lt; <span class="string">"animal makes a sound"</span> &lt;&lt; endl;
    }
};

<span class="keyword">class</span> <span class="class-name">Dog</span> : <span class="keyword">public</span> Animal {
public:
    Dog() {
        cout &lt;&lt; <span class="string">"dog"</span> &lt;&lt; endl;
    }

    ~Dog() {
        cout &lt;&lt; <span class="string">"delete dog"</span> &lt;&lt; endl;
    }

    <span class="keyword">void</span> sound() <span class="keyword">override</span> {
        cout &lt;&lt; <span class="string">"dog barks"</span> &lt;&lt; endl;
    }
};

<span class="keyword">class</span> <span class="class-name">Cat</span> : <span class="keyword">public</span> Animal {
public:
    Cat() {
        cout &lt;&lt; <span class="string">"cat"</span> &lt;&lt; endl;
    }

    ~Cat() {
        cout &lt;&lt; <span class="string">"delete cat"</span> &lt;&lt; endl;
    }

    <span class="keyword">void</span> sound() <span class="keyword">override</span> {
        cout &lt;&lt; <span class="string">"cat meows"</span> &lt;&lt; endl;
    }
};

<span class="keyword">int</span> main() {
    Animal* a = <span class="keyword">new</span> Animal();
    a->sound();
    
    Dog* d = <span class="keyword">new</span> Dog();
    d->sound();
    
    Cat* c = <span class="keyword">new</span> Cat();
    c->sound();
    
    <span class="keyword">delete</span> a;
    <span class="keyword">delete</span> d;
    <span class="keyword">delete</span> c;
    
    <span class="keyword">return</span> 0;
}
</code></pre>

            <h2>3. Python</h2>
    <p>ใน Python การใช้ constructor คือ __init__ และ destructor คือ __del__ ซึ่งจะถูกเรียกอัตโนมัติเมื่อ object ถูกทำลาย</p>
      
  
  <pre><code>
<span class="keyword">class</span> <span class="class-name">Animal</span>:
    <span class="keyword">def</span> <span class="function-name">__init__</span>(self):
        <span class="keyword">print</span>(<span class="string">"create animal"</span>)
    
    <span class="keyword">def</span> <span class="function-name">sound</span>(self):
        <span class="keyword">print</span>(<span class="string">"animal makes a sound"</span>)
    
    <span class="keyword">def</span> <span class="function-name">__del__</span>(self):
        <span class="keyword">print</span>(<span class="string">"delete animal"</span>)

<span class="keyword">class</span> <span class="class-name">Dog</span>(<span class="class-name">Animal</span>):
    <span class="keyword">def</span> <span class="function-name">__init__</span>(self):
        <span class="keyword">super</span>().<span class="function-name">__init__</span>()
        <span class="keyword">print</span>(<span class="string">"dog"</span>)
    
    <span class="keyword">def</span> <span class="function-name">sound</span>(self):
        <span class="keyword">print</span>(<span class="string">"dog barks"</span>)
    
    <span class="keyword">def</span> <span class="function-name">__del__</span>(self):
        <span class="keyword">print</span>(<span class="string">"delete dog"</span>)

<span class="keyword">class</span> <span class="class-name">Cat</span>(<span class="class-name">Animal</span>):
    <span class="keyword">def</span> <span class="function-name">__init__</span>(self):
        <span class="keyword">super</span>().<span class="function-name">__init__</span>()
        <span class="keyword">print</span>(<span class="string">"cat"</span>)
    
    <span class="keyword">def</span> <span class="function-name">sound</span>(self):
        <span class="keyword">print</span>(<span class="string">"cat meows"</span>)
    
    <span class="keyword">def</span> <span class="function-name">__del__</span>(self):
        <span class="keyword">print</span>(<span class="string">"delete cat"</span>)

# Creating objects
a = Animal()
a.sound()

d = Dog()
d.sound()

c = Cat()
c.sound()

# Deleting objects explicitly (destructor will be called)
<span class="keyword">del</span> a
<span class="keyword">del</span> d
<span class="keyword">del</span> c
</code></pre>

<h2>ผลลัพธ์จากการรันโปรแกรมในแต่ละภาษา</h2>

<h3>1. Java</h3>
<p>เมื่อรันโปรแกรมใน Java โดยใช้ <code>System.gc()</code> เพื่อเรียก garbage collector และให้ <code>finalize()</code> ถูกเรียก จะได้ผลลัพธ์ดังนี้:</p>
<pre><code>
create animal
animal makes a sound
dog
dog barks
cat
cat meows
delete animal
delete dog
delete cat
</code></pre>
<p><strong>อธิบาย:</strong></p>
<div style="background-color: #f9f9f9; border: 1px solid #ddd; padding: 10px; border-radius: 5px; margin-top: 5px;">
    <p1 style="margin: 0;">create animal, dog, และ cat จะถูกพิมพ์เมื่อเรียก constructor ของแต่ละ class animal makes a sound, dog barks, และ cat meows ถูกพิมพ์เมื่อเรียกใช้ method sound() หลังจากใช้ <code>System.gc()</code> เรียก garbage collector โปรแกรมจะลบ object ที่ถูกสร้างออก ซึ่งจะทำให้ destructor finalize ทำงาน</p1>
</div>

<h3>2. C++</h3>
<p>เมื่อรันโปรแกรมใน C++ โดยใช้คำสั่ง <code>delete</code> เพื่อทำลาย object จะได้ผลลัพธ์ดังนี้:</p>
<pre><code>
create animal
animal makes a sound
dog
dog barks
cat
cat meows
delete animal
delete dog
delete cat
</code></pre>
<p><strong>อธิบาย:</strong></p>
  <div style="background-color: #f9f9f9; border: 1px solid #ddd; padding: 10px; border-radius: 5px; margin-top: 5px;">
    <p1 style="margin: 0;">create animal, dog, และ cat ถูกพิมพ์เมื่อสร้าง object ของแต่ละ class
animal makes a sound, dog barks, และ cat meows ถูกพิมพ์เมื่อเรียกใช้ method sound()
เมื่อทำลาย object ด้วย delete a, delete d, และ delete c destructor จะทำงาน และพิมพ์ข้อความที่เกี่ยวข้องกับการลบ object</p1>
</div>
  
<h3>3. Python</h3>
<p>เมื่อรันโปรแกรมใน Python โดยใช้ <code>del</code> เพื่อทำลาย object จะได้ผลลัพธ์ดังนี้:</p>
<pre><code>
create animal
animal makes a sound
dog
dog barks
cat
cat meows
delete animal
delete dog
delete cat
</code></pre>
<p><strong>อธิบาย:</strong></p>
    <div style="background-color: #f9f9f9; border: 1px solid #ddd; padding: 10px; border-radius: 5px; margin-top: 5px;">
    <p1 style="margin: 0;">create animal, dog, และ cat ถูกพิมพ์เมื่อสร้าง object แต่ละ class
animal makes a sound, dog barks, และ cat meows ถูกพิมพ์เมื่อเรียกใช้ method sound()
เมื่อทำลาย object ด้วย del a, del d, และ del c destructor จะถูกเรียก (__del__) ซึ่งทำให้พิมพ์ข้อความที่เกี่ยวข้องกับการลบ object</p1>
</div>


  <h2>การเปรียบเทียบผลลัพธ์จากทั้งสามภาษา</h2>
<table style="width: 100%; border-collapse: collapse; margin-top: 20px;">
    <thead>
        <tr>
            <th style="border: 1px solid #ddd; padding: 8px; background-color: #f2f2f2;">ภาษา</th>
            <th style="border: 1px solid #ddd; padding: 8px; background-color: #f2f2f2;">การสร้าง Object</th>
            <th style="border: 1px solid #ddd; padding: 8px; background-color: #f2f2f2;">การเรียก Method</th>
            <th style="border: 1px solid #ddd; padding: 8px; background-color: #f2f2f2;">การทำลาย Object (Destructor)</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td style="border: 1px solid #ddd; padding: 8px;">Java</td>
            <td style="border: 1px solid #ddd; padding: 8px;">ใช้ constructor ในการพิมพ์ข้อความ</td>
            <td style="border: 1px solid #ddd; padding: 8px;">Method sound() ถูกเรียกใช้ในแต่ละ class</td>
            <td style="border: 1px solid #ddd; padding: 8px;">ใช้ garbage collector ผ่าน <code>System.gc()</code> ในการทำลาย object ซึ่งทำให้ <code>finalize()</code> ทำงาน</td>
        </tr>
        <tr>
            <td style="border: 1px solid #ddd; padding: 8px;">C++</td>
            <td style="border: 1px solid #ddd; padding: 8px;">ใช้ constructor ในการพิมพ์ข้อความ</td>
            <td style="border: 1px solid #ddd; padding: 8px;">Method sound() ถูกเรียกใช้ในแต่ละ class</td>
            <td style="border: 1px solid #ddd; padding: 8px;">ใช้ <code>delete</code> ในการทำลาย object ซึ่งทำให้ destructor ทำงานโดยตรง</td>
        </tr>
        <tr>
            <td style="border: 1px solid #ddd; padding: 8px;">Python</td>
            <td style="border: 1px solid #ddd; padding: 8px;">ใช้ constructor ในการพิมพ์ข้อความ</td>
            <td style="border: 1px solid #ddd; padding: 8px;">Method sound() ถูกเรียกใช้ในแต่ละ class</td>
            <td style="border: 1px solid #ddd; padding: 8px;">ใช้ <code>del</code> เพื่อทำลาย object ซึ่งทำให้ <code>__del__()</code> ทำงานโดยอัตโนมัติ</td>
        </tr>
    </tbody>
</table>

  <p><strong>สรุป:</strong></p>
    <div style="background-color: #f9f9f9; border: 1px solid #ddd; padding: 10px; border-radius: 5px; margin-top: 5px;">
    <p1 style="margin: 0;">ทั้งสามภาษาให้ผลลัพธ์การทำงานเหมือนกันในแง่การสร้าง object, เรียก method และการทำลาย object
Java ใช้ <code>System.gc() </code>เพื่อจัดการ garbage collector ซึ่งแตกต่างจาก C++ และ Python ที่สามารถควบคุมการลบ object ได้โดยตรง
C++ ใช้คำสั่ง delete สำหรับการลบ object ซึ่งทำให้ destructor ทำงานทันที
Python มีระบบจัดการหน่วยความจำอัตโนมัติ แต่สามารถเรียกใช้ del เพื่อทำลาย object และให้ destructor ทำงาน</p1>
</div>
  
</body>
</html>
